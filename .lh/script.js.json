{
    "sourceFile": "script.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 16,
            "patches": [
                {
                    "date": 1746650766654,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746650990695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,139 +1,7 @@\n-// Handle Sign Up\n-const signupForm = document.getElementById('signupForm');\n-if (signupForm) {\n-  signupForm.addEventListener('submit', function (e) {\n-    e.preventDefault();\n-\n-    const firstName = document.getElementById('firstName').value.trim();\n-    const lastName = document.getElementById('lastName').value.trim();\n-    const email = document.getElementById('email').value.trim();\n-    const phone = document.getElementById('phone').value.trim();\n-    const password = document.getElementById('password').value;\n-    const confirmPassword = document.getElementById('confirmPassword').value;\n-\n-    if (!firstName || !lastName || !email || !phone || !password || !confirmPassword) {\n-      alert('Please fill in all fields.');\n-      return;\n-    }\n-\n-    if (password !== confirmPassword) {\n-      alert('Passwords do not match.');\n-      return;\n-    }\n-\n-    const user = { firstName, lastName, email, phone, password };\n-    localStorage.setItem('user', JSON.stringify(user));\n-\n-    alert('Account created successfully!');\n-    window.location.href = 'signin.html';\n-  });\n+const user = JSON.parse(localStorage.getItem('user'));\n+if (user) {\n+  const usernameEl = document.getElementById('usernameDisplay');\n+  const emailEl = document.getElementById('emailDisplay');\n+  if (usernameEl) usernameEl.textContent = `${user.firstName} ${user.lastName}`;\n+  if (emailEl) emailEl.textContent = user.email;\n }\n-\n-// Handle Sign In\n-const signinForm = document.getElementById('signinForm');\n-if (signinForm) {\n-  signinForm.addEventListener('submit', function (e) {\n-    e.preventDefault();\n-\n-    const email = document.getElementById('emailSignIn').value.trim();\n-    const password = document.getElementById('passwordSignIn').value;\n-\n-    const user = JSON.parse(localStorage.getItem('user'));\n-    if (!user) {\n-      alert('No account found. Please sign up first.');\n-      return;\n-    }\n-\n-    if (user.email === email && user.password === password) {\n-      alert('Sign In successful!');\n-      window.location.href = 'index.html';\n-    } else {\n-      alert('Incorrect email or password. Please try again.');\n-    }\n-  });\n-}\n-\n-// Handle Post Upload\n-const uploadForm = document.getElementById('uploadForm');\n-if (uploadForm) {\n-  uploadForm.addEventListener('submit', function (e) {\n-    e.preventDefault();\n-\n-    const title = document.getElementById('titleInput').value.trim();\n-    const description = document.getElementById('descriptionInput').value.trim();\n-    const fileInput = document.getElementById('mediaInput');\n-    const file = fileInput.files[0];\n-\n-    if (!file) {\n-      alert('Please select a file.');\n-      return;\n-    }\n-\n-    if (file.size > 2 * 1024 * 1024) {\n-      alert('File too large! Please upload a file under 2MB.');\n-      return;\n-    }\n-\n-    const reader = new FileReader();\n-\n-    reader.onload = function () {\n-      const post = {\n-        title,\n-        description,\n-        media: reader.result,\n-        type: file.type,\n-        likes: 0\n-      };\n-\n-      const posts = JSON.parse(localStorage.getItem('posts')) || [];\n-      posts.unshift(post);\n-      try {\n-        localStorage.setItem('posts', JSON.stringify(posts));\n-        alert('Post uploaded!');\n-        window.location.href = 'index.html';\n-      } catch (e) {\n-        alert('Failed to upload. Storage limit exceeded.');\n-      }\n-    };\n-\n-    reader.readAsDataURL(file);\n-  });\n-}\n-\n-// Render Posts\n-function renderPosts(containerId) {\n-  const container = document.getElementById(containerId);\n-  if (!container) return;\n-\n-  const posts = JSON.parse(localStorage.getItem('posts')) || [];\n-  posts.forEach((post, index) => {\n-    const div = document.createElement('div');\n-    div.className = 'post';\n-\n-    const mediaTag = post.type.startsWith('video') ?\n-      `<video controls width=\"100%\"><source src=\"${post.media}\" type=\"${post.type}\"></video>` :\n-      `<img src=\"${post.media}\" alt=\"Post image\">`;\n-\n-    div.innerHTML = `\n-      <h3>${post.title || 'Untitled'}</h3>\n-      ${mediaTag}\n-      <p>${post.description}</p>\n-      <div class=\"actions\">\n-        <span onclick=\"likePost(${index})\">‚ù§Ô∏è ${post.likes}</span>\n-        <span title=\"Share\">üîó</span>\n-        <span title=\"Save\">üíæ</span>\n-      </div>\n-    `;\n-    container.appendChild(div);\n-  });\n-}\n-\n-// Handle Likes\n-function likePost(index) {\n-  const posts = JSON.parse(localStorage.getItem('posts')) || [];\n-  posts[index].likes++;\n-  localStorage.setItem('posts', JSON.stringify(posts));\n-  location.reload();\n-}\n-\n-renderPosts('feed');\n"
                },
                {
                    "date": 1746651016304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,132 @@\n-const user = JSON.parse(localStorage.getItem('user'));\n-if (user) {\n-  const usernameEl = document.getElementById('usernameDisplay');\n-  const emailEl = document.getElementById('emailDisplay');\n-  if (usernameEl) usernameEl.textContent = `${user.firstName} ${user.lastName}`;\n-  if (emailEl) emailEl.textContent = user.email;\n+// Handle Sign Up\n+const signupForm = document.getElementById('signupForm');\n+if (signupForm) {\n+  signupForm.addEventListener('submit', function(e) {\n+    e.preventDefault();\n+\n+    const firstName = document.getElementById('firstName').value;\n+    const lastName = document.getElementById('lastName').value;\n+    const email = document.getElementById('email').value;\n+    const phone = document.getElementById('phone').value;\n+    const password = document.getElementById('password').value;\n+    const confirmPassword = document.getElementById('confirmPassword').value;\n+\n+    if (!firstName || !lastName || !email || !phone || !password || !confirmPassword) {\n+      alert('Please fill in all fields.');\n+      return;\n+    }\n+\n+    if (password !== confirmPassword) {\n+      alert('Passwords do not match.');\n+      return;\n+    }\n+\n+    const user = {\n+      firstName,\n+      lastName,\n+      email,\n+      phone,\n+      password,\n+    };\n+\n+    localStorage.setItem('user', JSON.stringify(user));\n+    alert('Account created successfully!');\n+    window.location.href = 'signin.html';\n+  });\n }\n+\n+// Handle Sign In\n+const signinForm = document.getElementById('signinForm');\n+if (signinForm) {\n+  signinForm.addEventListener('submit', function(e) {\n+    e.preventDefault();\n+\n+    const email = document.getElementById('emailSignIn').value;\n+    const password = document.getElementById('passwordSignIn').value;\n+\n+    const user = JSON.parse(localStorage.getItem('user'));\n+\n+    if (!user) {\n+      alert('No account found. Please sign up first.');\n+      return;\n+    }\n+\n+    if (user.email === email && user.password === password) {\n+      alert('Sign In successful!');\n+      window.location.href = 'new.html';\n+    } else {\n+      alert('Incorrect email or password. Please try again.');\n+    }\n+  });\n+}\n+\n+// Handle Post Upload\n+const form = document.getElementById('uploadForm');\n+if (form) {\n+  form.addEventListener('submit', function(e) {\n+    e.preventDefault();\n+\n+    const title = document.getElementById('titleInput').value;\n+    const fileInput = document.getElementById('mediaInput');\n+    const description = document.getElementById('descriptionInput').value;\n+    const file = fileInput.files[0];\n+    const reader = new FileReader();\n+\n+    reader.onload = function() {\n+      const post = {\n+        title,\n+        media: reader.result,\n+        type: file.type,\n+        description,\n+        likes: 0\n+      };\n+\n+      const posts = JSON.parse(localStorage.getItem('posts')) || [];\n+      posts.unshift(post);\n+      localStorage.setItem('posts', JSON.stringify(posts));\n+\n+      alert('Post uploaded!');\n+      window.location.href = 'new.html';\n+    };\n+\n+    if (file) {\n+      reader.readAsDataURL(file);\n+    }\n+  });\n+}\n+\n+function renderPosts(containerId) {\n+  const container = document.getElementById(containerId);\n+  if (!container) return;\n+\n+  const posts = JSON.parse(localStorage.getItem('posts')) || [];\n+  posts.forEach((post, index) => {\n+    const div = document.createElement('div');\n+    div.className = 'post';\n+\n+    const mediaTag = post.type.startsWith('video') ?\n+      `<video controls width=\"100%\"><source src=\"${post.media}\" type=\"${post.type}\"></video>` :\n+      `<img src=\"${post.media}\" alt=\"\">`;\n+\n+    div.innerHTML = `\n+      <h3>${post.title || 'Untitled'}</h3>\n+      ${mediaTag}\n+      <p>${post.description}</p>\n+      <div class=\"actions\">\n+        <span onclick=\"likePost(${index})\">‚ù§Ô∏è ${post.likes}</span>\n+        <span title=\"Share\">üîó</span>\n+        <span title=\"Save\">üíæ</span>\n+      </div>\n+    `;\n+    container.appendChild(div);\n+  });\n+}\n+\n+function likePost(index) {\n+  const posts = JSON.parse(localStorage.getItem('posts')) || [];\n+  posts[index].likes++;\n+  localStorage.setItem('posts', JSON.stringify(posts));\n+  location.reload();\n+}\n+\n+renderPosts('feed');\n"
                },
                {
                    "date": 1746651023363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,4 +129,11 @@\n   location.reload();\n }\n \n renderPosts('feed');\n+const user = JSON.parse(localStorage.getItem('user'));\n+if (user) {\n+  const usernameEl = document.getElementById('usernameDisplay');\n+  const emailEl = document.getElementById('emailDisplay');\n+  if (usernameEl) usernameEl.textContent = `${user.firstName} ${user.lastName}`;\n+  if (emailEl) emailEl.textContent = user.email;\n+}\n"
                },
                {
                    "date": 1746651053464,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,11 +129,4 @@\n   location.reload();\n }\n \n renderPosts('feed');\n-const user = JSON.parse(localStorage.getItem('user'));\n-if (user) {\n-  const usernameEl = document.getElementById('usernameDisplay');\n-  const emailEl = document.getElementById('emailDisplay');\n-  if (usernameEl) usernameEl.textContent = `${user.firstName} ${user.lastName}`;\n-  if (emailEl) emailEl.textContent = user.email;\n-}\n"
                },
                {
                    "date": 1746651084229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,14 @@\n-// Handle Sign Up\n+// --- Sign Up ---\n const signupForm = document.getElementById('signupForm');\n if (signupForm) {\n-  signupForm.addEventListener('submit', function(e) {\n+  signupForm.addEventListener('submit', function (e) {\n     e.preventDefault();\n \n-    const firstName = document.getElementById('firstName').value;\n-    const lastName = document.getElementById('lastName').value;\n-    const email = document.getElementById('email').value;\n-    const phone = document.getElementById('phone').value;\n+    const firstName = document.getElementById('firstName').value.trim();\n+    const lastName = document.getElementById('lastName').value.trim();\n+    const email = document.getElementById('email').value.trim();\n+    const phone = document.getElementById('phone').value.trim();\n     const password = document.getElementById('password').value;\n     const confirmPassword = document.getElementById('confirmPassword').value;\n \n     if (!firstName || !lastName || !email || !phone || !password || !confirmPassword) {\n@@ -20,29 +20,22 @@\n       alert('Passwords do not match.');\n       return;\n     }\n \n-    const user = {\n-      firstName,\n-      lastName,\n-      email,\n-      phone,\n-      password,\n-    };\n-\n+    const user = { firstName, lastName, email, phone, password };\n     localStorage.setItem('user', JSON.stringify(user));\n     alert('Account created successfully!');\n     window.location.href = 'signin.html';\n   });\n }\n \n-// Handle Sign In\n+// --- Sign In ---\n const signinForm = document.getElementById('signinForm');\n if (signinForm) {\n-  signinForm.addEventListener('submit', function(e) {\n+  signinForm.addEventListener('submit', function (e) {\n     e.preventDefault();\n \n-    const email = document.getElementById('emailSignIn').value;\n+    const email = document.getElementById('emailSignIn').value.trim();\n     const password = document.getElementById('passwordSignIn').value;\n \n     const user = JSON.parse(localStorage.getItem('user'));\n \n@@ -51,63 +44,79 @@\n       return;\n     }\n \n     if (user.email === email && user.password === password) {\n+      localStorage.setItem('loggedInUser', JSON.stringify(user));\n       alert('Sign In successful!');\n       window.location.href = 'new.html';\n     } else {\n-      alert('Incorrect email or password. Please try again.');\n+      alert('Incorrect email or password.');\n     }\n   });\n }\n \n-// Handle Post Upload\n+// --- Upload Post ---\n const form = document.getElementById('uploadForm');\n if (form) {\n-  form.addEventListener('submit', function(e) {\n+  form.addEventListener('submit', function (e) {\n     e.preventDefault();\n \n-    const title = document.getElementById('titleInput').value;\n+    const title = document.getElementById('titleInput').value.trim();\n+    const description = document.getElementById('descriptionInput').value.trim();\n     const fileInput = document.getElementById('mediaInput');\n-    const description = document.getElementById('descriptionInput').value;\n     const file = fileInput.files[0];\n+\n+    if (!file) {\n+      alert('Please select a file.');\n+      return;\n+    }\n+\n+    if (file.size > 2 * 1024 * 1024) {\n+      alert('File is too large. Max 2MB allowed.');\n+      return;\n+    }\n+\n     const reader = new FileReader();\n \n-    reader.onload = function() {\n+    reader.onload = function () {\n       const post = {\n         title,\n         media: reader.result,\n         type: file.type,\n         description,\n         likes: 0\n       };\n \n-      const posts = JSON.parse(localStorage.getItem('posts')) || [];\n-      posts.unshift(post);\n-      localStorage.setItem('posts', JSON.stringify(posts));\n-\n-      alert('Post uploaded!');\n-      window.location.href = 'new.html';\n+      try {\n+        const posts = JSON.parse(localStorage.getItem('posts')) || [];\n+        posts.unshift(post);\n+        localStorage.setItem('posts', JSON.stringify(posts));\n+        alert('Post uploaded!');\n+        window.location.href = 'new.html';\n+      } catch (err) {\n+        alert('Upload failed: ' + err.message);\n+      }\n     };\n \n-    if (file) {\n-      reader.readAsDataURL(file);\n-    }\n+    reader.readAsDataURL(file);\n   });\n }\n \n+// --- Render Posts ---\n function renderPosts(containerId) {\n   const container = document.getElementById(containerId);\n   if (!container) return;\n \n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n+  container.innerHTML = '';\n+\n   posts.forEach((post, index) => {\n     const div = document.createElement('div');\n     div.className = 'post';\n \n-    const mediaTag = post.type.startsWith('video') ?\n-      `<video controls width=\"100%\"><source src=\"${post.media}\" type=\"${post.type}\"></video>` :\n-      `<img src=\"${post.media}\" alt=\"\">`;\n+    const mediaTag = post.type.startsWith('video')\n+      ? `<video controls width=\"100%\"><source src=\"${post.media}\" type=\"${post.type}\"></video>`\n+      : `<img src=\"${post.media}\" alt=\"Post Image\" />`;\n \n     div.innerHTML = `\n       <h3>${post.title || 'Untitled'}</h3>\n       ${mediaTag}\n@@ -117,16 +126,29 @@\n         <span title=\"Share\">üîó</span>\n         <span title=\"Save\">üíæ</span>\n       </div>\n     `;\n+\n     container.appendChild(div);\n   });\n }\n \n+// --- Like Post ---\n function likePost(index) {\n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n   posts[index].likes++;\n   localStorage.setItem('posts', JSON.stringify(posts));\n   location.reload();\n }\n \n+// --- Display Username & Email on Profile ---\n+const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));\n+if (loggedInUser) {\n+  const usernameEl = document.getElementById('usernameDisplay');\n+  const emailEl = document.getElementById('emailDisplay');\n+  if (usernameEl) usernameEl.textContent = `${loggedInUser.firstName} ${loggedInUser.lastName}`;\n+  if (emailEl) emailEl.textContent = loggedInUser.email;\n+}\n+\n+// --- Run post renderers ---\n renderPosts('feed');\n+renderPosts('myPosts');\n"
                },
                {
                    "date": 1746651121414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n \n     if (user.email === email && user.password === password) {\n       localStorage.setItem('loggedInUser', JSON.stringify(user));\n       alert('Sign In successful!');\n-      window.location.href = 'new.html';\n+      window.location.href = 'index.html';\n     } else {\n       alert('Incorrect email or password.');\n     }\n   });\n"
                },
                {
                    "date": 1746651481275,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,9 +90,9 @@\n         const posts = JSON.parse(localStorage.getItem('posts')) || [];\n         posts.unshift(post);\n         localStorage.setItem('posts', JSON.stringify(posts));\n         alert('Post uploaded!');\n-        window.location.href = 'new.html';\n+        window.location.href = 'index.html';\n       } catch (err) {\n         alert('Upload failed: ' + err.message);\n       }\n     };\n"
                },
                {
                    "date": 1746651755791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,22 +101,28 @@\n   });\n }\n \n // --- Render Posts ---\n-function renderPosts(containerId) {\n+function renderPosts(containerId, onlyUserPosts = false) {\n   const container = document.getElementById(containerId);\n   if (!container) return;\n \n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n+  const user = JSON.parse(localStorage.getItem('loggedInUser'));\n+\n+  const filteredPosts = onlyUserPosts && user\n+    ? posts.filter(post => post.userEmail === user.email)\n+    : posts;\n+\n   container.innerHTML = '';\n \n-  posts.forEach((post, index) => {\n+  filteredPosts.forEach((post, index) => {\n     const div = document.createElement('div');\n     div.className = 'post';\n \n-    const mediaTag = post.type.startsWith('video')\n-      ? `<video controls width=\"100%\"><source src=\"${post.media}\" type=\"${post.type}\"></video>`\n-      : `<img src=\"${post.media}\" alt=\"Post Image\" />`;\n+    const mediaTag = post.type.startsWith('video') ?\n+      `<video controls width=\"100%\"><source src=\"${post.media}\" type=\"${post.type}\"></video>` :\n+      `<img src=\"${post.media}\" alt=\"\">`;\n \n     div.innerHTML = `\n       <h3>${post.title || 'Untitled'}</h3>\n       ${mediaTag}\n@@ -126,13 +132,13 @@\n         <span title=\"Share\">üîó</span>\n         <span title=\"Save\">üíæ</span>\n       </div>\n     `;\n-\n     container.appendChild(div);\n   });\n }\n \n+\n // --- Like Post ---\n function likePost(index) {\n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n   posts[index].likes++;\n"
                },
                {
                    "date": 1746651957939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,8 +28,9 @@\n   });\n }\n \n // --- Sign In ---\n+// --- Sign In ---\n const signinForm = document.getElementById('signinForm');\n if (signinForm) {\n   signinForm.addEventListener('submit', function (e) {\n     e.preventDefault();\n@@ -45,16 +46,78 @@\n     }\n \n     if (user.email === email && user.password === password) {\n       localStorage.setItem('loggedInUser', JSON.stringify(user));\n+      \n+      // Save the sign-in time in user history\n+      const signInTime = new Date().toISOString(); // Current timestamp\n+      let signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n+      \n+      if (!signInHistory[user.email]) {\n+        signInHistory[user.email] = [];\n+      }\n+\n+      signInHistory[user.email].push(signInTime);\n+      localStorage.setItem('signInHistory', JSON.stringify(signInHistory));\n+\n       alert('Sign In successful!');\n       window.location.href = 'index.html';\n     } else {\n       alert('Incorrect email or password.');\n     }\n   });\n }\n \n+// --- Display User Sign-in History ---\n+function displaySignInHistory() {\n+  const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));\n+  const signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n+\n+  if (loggedInUser && signInHistory[loggedInUser.email]) {\n+    const history = signInHistory[loggedInUser.email];\n+\n+    const signInHistoryContainer = document.getElementById('signInHistory');\n+    if (signInHistoryContainer) {\n+      signInHistoryContainer.innerHTML = '<h3>Sign In History</h3>';\n+      history.forEach(time => {\n+        const div = document.createElement('div');\n+        div.className = 'sign-in-record';\n+        div.innerHTML = `<p>Signed in at: ${new Date(time).toLocaleString()}</p>`;\n+        signInHistoryContainer.appendChild(div);\n+      });\n+    }\n+  }\n+}\n+\n+// Call `displaySignInHistory` on profile page to render user's sign-in history\n+displaySignInHistory();\n+\n+\n+// const signinForm = document.getElementById('signinForm');\n+// if (signinForm) {\n+//   signinForm.addEventListener('submit', function (e) {\n+//     e.preventDefault();\n+\n+//     const email = document.getElementById('emailSignIn').value.trim();\n+//     const password = document.getElementById('passwordSignIn').value;\n+\n+//     const user = JSON.parse(localStorage.getItem('user'));\n+\n+//     if (!user) {\n+//       alert('No account found. Please sign up first.');\n+//       return;\n+//     }\n+\n+//     if (user.email === email && user.password === password) {\n+//       localStorage.setItem('loggedInUser', JSON.stringify(user));\n+//       alert('Sign In successful!');\n+//       window.location.href = 'index.html';\n+//     } else {\n+//       alert('Incorrect email or password.');\n+//     }\n+//   });\n+// }\n+\n // --- Upload Post ---\n const form = document.getElementById('uploadForm');\n if (form) {\n   form.addEventListener('submit', function (e) {\n"
                },
                {
                    "date": 1746652322885,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,104 +20,67 @@\n       alert('Passwords do not match.');\n       return;\n     }\n \n+    // Retrieve existing users from localStorage, or initialize an empty array\n+    const users = JSON.parse(localStorage.getItem('users')) || [];\n+\n+    // Check if the email already exists\n+    if (users.find(user => user.email === email)) {\n+      alert('Email already exists. Please sign in.');\n+      return;\n+    }\n+\n+    // Create new user object\n     const user = { firstName, lastName, email, phone, password };\n-    localStorage.setItem('user', JSON.stringify(user));\n+\n+    // Add new user to the list of users\n+    users.push(user);\n+\n+    // Save the updated users list back to localStorage\n+    localStorage.setItem('users', JSON.stringify(users));\n+\n     alert('Account created successfully!');\n     window.location.href = 'signin.html';\n   });\n }\n \n // --- Sign In ---\n-// --- Sign In ---\n const signinForm = document.getElementById('signinForm');\n if (signinForm) {\n   signinForm.addEventListener('submit', function (e) {\n     e.preventDefault();\n \n     const email = document.getElementById('emailSignIn').value.trim();\n     const password = document.getElementById('passwordSignIn').value;\n \n-    const user = JSON.parse(localStorage.getItem('user'));\n+    // Retrieve all users from localStorage\n+    const users = JSON.parse(localStorage.getItem('users')) || [];\n \n+    // Find the user that matches the email and password\n+    const user = users.find(user => user.email === email && user.password === password);\n+\n     if (!user) {\n-      alert('No account found. Please sign up first.');\n+      alert('Incorrect email or password.');\n       return;\n     }\n \n-    if (user.email === email && user.password === password) {\n-      localStorage.setItem('loggedInUser', JSON.stringify(user));\n-      \n-      // Save the sign-in time in user history\n-      const signInTime = new Date().toISOString(); // Current timestamp\n-      let signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n-      \n-      if (!signInHistory[user.email]) {\n-        signInHistory[user.email] = [];\n-      }\n+    // Store logged-in user data\n+    localStorage.setItem('loggedInUser', JSON.stringify(user));\n \n-      signInHistory[user.email].push(signInTime);\n-      localStorage.setItem('signInHistory', JSON.stringify(signInHistory));\n+    // Store sign-in history\n+    const signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n+    if (!signInHistory[user.email]) {\n+      signInHistory[user.email] = [];\n+    }\n+    signInHistory[user.email].push(new Date().toISOString());\n+    localStorage.setItem('signInHistory', JSON.stringify(signInHistory));\n \n-      alert('Sign In successful!');\n-      window.location.href = 'index.html';\n-    } else {\n-      alert('Incorrect email or password.');\n-    }\n+    alert('Sign In successful!');\n+    window.location.href = 'index.html';\n   });\n }\n \n-// --- Display User Sign-in History ---\n-function displaySignInHistory() {\n-  const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));\n-  const signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n-\n-  if (loggedInUser && signInHistory[loggedInUser.email]) {\n-    const history = signInHistory[loggedInUser.email];\n-\n-    const signInHistoryContainer = document.getElementById('signInHistory');\n-    if (signInHistoryContainer) {\n-      signInHistoryContainer.innerHTML = '<h3>Sign In History</h3>';\n-      history.forEach(time => {\n-        const div = document.createElement('div');\n-        div.className = 'sign-in-record';\n-        div.innerHTML = `<p>Signed in at: ${new Date(time).toLocaleString()}</p>`;\n-        signInHistoryContainer.appendChild(div);\n-      });\n-    }\n-  }\n-}\n-\n-// Call `displaySignInHistory` on profile page to render user's sign-in history\n-displaySignInHistory();\n-\n-\n-// const signinForm = document.getElementById('signinForm');\n-// if (signinForm) {\n-//   signinForm.addEventListener('submit', function (e) {\n-//     e.preventDefault();\n-\n-//     const email = document.getElementById('emailSignIn').value.trim();\n-//     const password = document.getElementById('passwordSignIn').value;\n-\n-//     const user = JSON.parse(localStorage.getItem('user'));\n-\n-//     if (!user) {\n-//       alert('No account found. Please sign up first.');\n-//       return;\n-//     }\n-\n-//     if (user.email === email && user.password === password) {\n-//       localStorage.setItem('loggedInUser', JSON.stringify(user));\n-//       alert('Sign In successful!');\n-//       window.location.href = 'index.html';\n-//     } else {\n-//       alert('Incorrect email or password.');\n-//     }\n-//   });\n-// }\n-\n // --- Upload Post ---\n const form = document.getElementById('uploadForm');\n if (form) {\n   form.addEventListener('submit', function (e) {\n@@ -199,9 +162,8 @@\n     container.appendChild(div);\n   });\n }\n \n-\n // --- Like Post ---\n function likePost(index) {\n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n   posts[index].likes++;\n@@ -217,7 +179,42 @@\n   if (usernameEl) usernameEl.textContent = `${loggedInUser.firstName} ${loggedInUser.lastName}`;\n   if (emailEl) emailEl.textContent = loggedInUser.email;\n }\n \n-// --- Run post renderers ---\n-renderPosts('feed');\n-renderPosts('myPosts');\n+// --- Display Sign-In History ---\n+function displaySignInHistory() {\n+  const user = JSON.parse(localStorage.getItem('loggedInUser'));\n+  if (!user) return;\n+\n+  const signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n+  const historyContainer = document.getElementById('signInHistory');\n+  \n+  if (signInHistory[user.email]) {\n+    signInHistory[user.email].forEach(signInTime => {\n+      const div = document.createElement('div');\n+      div.className = 'history-entry';\n+      div.textContent = `Signed in at: ${new Date(signInTime).toLocaleString()}`;\n+      historyContainer.appendChild(div);\n+    });\n+  } else {\n+    historyContainer.innerHTML = '<p>No sign-in history found.</p>';\n+  }\n+}\n+\n+// --- Dashboard ---\n+function renderDashboard() {\n+  const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));\n+  if (loggedInUser) {\n+    document.getElementById('profileName').textContent = `${loggedInUser.firstName} ${loggedInUser.lastName}`;\n+    document.getElementById('profileEmail').textContent = loggedInUser.email;\n+    displaySignInHistory();\n+    renderPosts('myPosts', true); // Render only the logged-in user's posts\n+  } else {\n+    alert('Please sign in to access the dashboard.');\n+    window.location.href = 'signin.html';\n+  }\n+}\n+\n+// Call renderDashboard when the dashboard page loads\n+if (document.getElementById('dashboardPage')) {\n+  renderDashboard();\n+}\n"
                },
                {
                    "date": 1746652476698,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,24 +20,18 @@\n       alert('Passwords do not match.');\n       return;\n     }\n \n-    // Retrieve existing users from localStorage, or initialize an empty array\n     const users = JSON.parse(localStorage.getItem('users')) || [];\n \n-    // Check if the email already exists\n     if (users.find(user => user.email === email)) {\n       alert('Email already exists. Please sign in.');\n       return;\n     }\n \n-    // Create new user object\n     const user = { firstName, lastName, email, phone, password };\n \n-    // Add new user to the list of users\n     users.push(user);\n-\n-    // Save the updated users list back to localStorage\n     localStorage.setItem('users', JSON.stringify(users));\n \n     alert('Account created successfully!');\n     window.location.href = 'signin.html';\n@@ -52,23 +46,18 @@\n \n     const email = document.getElementById('emailSignIn').value.trim();\n     const password = document.getElementById('passwordSignIn').value;\n \n-    // Retrieve all users from localStorage\n     const users = JSON.parse(localStorage.getItem('users')) || [];\n-\n-    // Find the user that matches the email and password\n     const user = users.find(user => user.email === email && user.password === password);\n \n     if (!user) {\n       alert('Incorrect email or password.');\n       return;\n     }\n \n-    // Store logged-in user data\n     localStorage.setItem('loggedInUser', JSON.stringify(user));\n \n-    // Store sign-in history\n     const signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n     if (!signInHistory[user.email]) {\n       signInHistory[user.email] = [];\n     }\n@@ -108,14 +97,15 @@\n         title,\n         media: reader.result,\n         type: file.type,\n         description,\n-        likes: 0\n+        likes: 0,\n+        userEmail: JSON.parse(localStorage.getItem('loggedInUser')).email // Save user email for filtering posts later\n       };\n \n       try {\n         const posts = JSON.parse(localStorage.getItem('posts')) || [];\n-        posts.unshift(post);\n+        posts.unshift(post); // Insert post at the beginning\n         localStorage.setItem('posts', JSON.stringify(posts));\n         alert('Post uploaded!');\n         window.location.href = 'index.html';\n       } catch (err) {\n"
                },
                {
                    "date": 1746652691063,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -207,4 +207,9 @@\n // Call renderDashboard when the dashboard page loads\n if (document.getElementById('dashboardPage')) {\n   renderDashboard();\n }\n+\n+// --- Home Page: Display All Posts ---\n+if (document.getElementById('homePage')) {\n+  renderPosts('homePosts', false); // Display all posts on the home page\n+}\n"
                },
                {
                    "date": 1746653023183,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,14 +124,21 @@\n \n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n   const user = JSON.parse(localStorage.getItem('loggedInUser'));\n \n+  // Filter posts if onlyUserPosts is true, otherwise show all posts\n   const filteredPosts = onlyUserPosts && user\n     ? posts.filter(post => post.userEmail === user.email)\n     : posts;\n \n-  container.innerHTML = '';\n+  // If no posts available, show a message\n+  if (filteredPosts.length === 0) {\n+    container.innerHTML = '<p>No posts to display</p>';\n+    return;\n+  }\n \n+  container.innerHTML = ''; // Clear previous content before rendering new posts\n+\n   filteredPosts.forEach((post, index) => {\n     const div = document.createElement('div');\n     div.className = 'post';\n \n@@ -152,8 +159,13 @@\n     container.appendChild(div);\n   });\n }\n \n+// --- Home Page: Display All Posts ---\n+if (document.getElementById('feed')) {\n+  renderPosts('feed', false); // Display all posts on the home page\n+}\n+\n // --- Like Post ---\n function likePost(index) {\n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n   posts[index].likes++;\n"
                },
                {
                    "date": 1746653090447,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,21 +124,14 @@\n \n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n   const user = JSON.parse(localStorage.getItem('loggedInUser'));\n \n-  // Filter posts if onlyUserPosts is true, otherwise show all posts\n   const filteredPosts = onlyUserPosts && user\n     ? posts.filter(post => post.userEmail === user.email)\n     : posts;\n \n-  // If no posts available, show a message\n-  if (filteredPosts.length === 0) {\n-    container.innerHTML = '<p>No posts to display</p>';\n-    return;\n-  }\n+  container.innerHTML = '';\n \n-  container.innerHTML = ''; // Clear previous content before rendering new posts\n-\n   filteredPosts.forEach((post, index) => {\n     const div = document.createElement('div');\n     div.className = 'post';\n \n@@ -159,13 +152,8 @@\n     container.appendChild(div);\n   });\n }\n \n-// --- Home Page: Display All Posts ---\n-if (document.getElementById('feed')) {\n-  renderPosts('feed', false); // Display all posts on the home page\n-}\n-\n // --- Like Post ---\n function likePost(index) {\n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n   posts[index].likes++;\n"
                },
                {
                    "date": 1746653116025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,215 @@\n+// --- Sign Up ---\n+const signupForm = document.getElementById('signupForm');\n+if (signupForm) {\n+  signupForm.addEventListener('submit', function (e) {\n+    e.preventDefault();\n+\n+    const firstName = document.getElementById('firstName').value.trim();\n+    const lastName = document.getElementById('lastName').value.trim();\n+    const email = document.getElementById('email').value.trim();\n+    const phone = document.getElementById('phone').value.trim();\n+    const password = document.getElementById('password').value;\n+    const confirmPassword = document.getElementById('confirmPassword').value;\n+\n+    if (!firstName || !lastName || !email || !phone || !password || !confirmPassword) {\n+      alert('Please fill in all fields.');\n+      return;\n+    }\n+\n+    if (password !== confirmPassword) {\n+      alert('Passwords do not match.');\n+      return;\n+    }\n+\n+    const users = JSON.parse(localStorage.getItem('users')) || [];\n+\n+    if (users.find(user => user.email === email)) {\n+      alert('Email already exists. Please sign in.');\n+      return;\n+    }\n+\n+    const user = { firstName, lastName, email, phone, password };\n+\n+    users.push(user);\n+    localStorage.setItem('users', JSON.stringify(users));\n+\n+    alert('Account created successfully!');\n+    window.location.href = 'signin.html';\n+  });\n+}\n+\n+// --- Sign In ---\n+const signinForm = document.getElementById('signinForm');\n+if (signinForm) {\n+  signinForm.addEventListener('submit', function (e) {\n+    e.preventDefault();\n+\n+    const email = document.getElementById('emailSignIn').value.trim();\n+    const password = document.getElementById('passwordSignIn').value;\n+\n+    const users = JSON.parse(localStorage.getItem('users')) || [];\n+    const user = users.find(user => user.email === email && user.password === password);\n+\n+    if (!user) {\n+      alert('Incorrect email or password.');\n+      return;\n+    }\n+\n+    localStorage.setItem('loggedInUser', JSON.stringify(user));\n+\n+    const signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n+    if (!signInHistory[user.email]) {\n+      signInHistory[user.email] = [];\n+    }\n+    signInHistory[user.email].push(new Date().toISOString());\n+    localStorage.setItem('signInHistory', JSON.stringify(signInHistory));\n+\n+    alert('Sign In successful!');\n+    window.location.href = 'index.html';\n+  });\n+}\n+\n+// --- Upload Post ---\n+const form = document.getElementById('uploadForm');\n+if (form) {\n+  form.addEventListener('submit', function (e) {\n+    e.preventDefault();\n+\n+    const title = document.getElementById('titleInput').value.trim();\n+    const description = document.getElementById('descriptionInput').value.trim();\n+    const fileInput = document.getElementById('mediaInput');\n+    const file = fileInput.files[0];\n+\n+    if (!file) {\n+      alert('Please select a file.');\n+      return;\n+    }\n+\n+    if (file.size > 2 * 1024 * 1024) {\n+      alert('File is too large. Max 2MB allowed.');\n+      return;\n+    }\n+\n+    const reader = new FileReader();\n+\n+    reader.onload = function () {\n+      const post = {\n+        title,\n+        media: reader.result,\n+        type: file.type,\n+        description,\n+        likes: 0,\n+        userEmail: JSON.parse(localStorage.getItem('loggedInUser')).email // Save user email for filtering posts later\n+      };\n+\n+      try {\n+        const posts = JSON.parse(localStorage.getItem('posts')) || [];\n+        posts.unshift(post); // Insert post at the beginning\n+        localStorage.setItem('posts', JSON.stringify(posts));\n+        alert('Post uploaded!');\n+        window.location.href = 'index.html';\n+      } catch (err) {\n+        alert('Upload failed: ' + err.message);\n+      }\n+    };\n+\n+    reader.readAsDataURL(file);\n+  });\n+}\n+\n+// --- Render Posts ---\n+function renderPosts(containerId, onlyUserPosts = false) {\n+  const container = document.getElementById(containerId);\n+  if (!container) return;\n+\n+  const posts = JSON.parse(localStorage.getItem('posts')) || [];\n+  const user = JSON.parse(localStorage.getItem('loggedInUser'));\n+\n+  const filteredPosts = onlyUserPosts && user\n+    ? posts.filter(post => post.userEmail === user.email)\n+    : posts;\n+\n+  container.innerHTML = '';\n+\n+  filteredPosts.forEach((post, index) => {\n+    const div = document.createElement('div');\n+    div.className = 'post';\n+\n+    const mediaTag = post.type.startsWith('video') ?\n+      `<video controls width=\"100%\"><source src=\"${post.media}\" type=\"${post.type}\"></video>` :\n+      `<img src=\"${post.media}\" alt=\"\">`;\n+\n+    div.innerHTML = `\n+      <h3>${post.title || 'Untitled'}</h3>\n+      ${mediaTag}\n+      <p>${post.description}</p>\n+      <div class=\"actions\">\n+        <span onclick=\"likePost(${index})\">‚ù§Ô∏è ${post.likes}</span>\n+        <span title=\"Share\">üîó</span>\n+        <span title=\"Save\">üíæ</span>\n+      </div>\n+    `;\n+    container.appendChild(div);\n+  });\n+}\n+\n+// --- Like Post ---\n+function likePost(index) {\n+  const posts = JSON.parse(localStorage.getItem('posts')) || [];\n+  posts[index].likes++;\n+  localStorage.setItem('posts', JSON.stringify(posts));\n+  location.reload();\n+}\n+\n+// --- Display Username & Email on Profile ---\n+const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));\n+if (loggedInUser) {\n+  const usernameEl = document.getElementById('usernameDisplay');\n+  const emailEl = document.getElementById('emailDisplay');\n+  if (usernameEl) usernameEl.textContent = `${loggedInUser.firstName} ${loggedInUser.lastName}`;\n+  if (emailEl) emailEl.textContent = loggedInUser.email;\n+}\n+\n+// --- Display Sign-In History ---\n+function displaySignInHistory() {\n+  const user = JSON.parse(localStorage.getItem('loggedInUser'));\n+  if (!user) return;\n+\n+  const signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n+  const historyContainer = document.getElementById('signInHistory');\n+  \n+  if (signInHistory[user.email]) {\n+    signInHistory[user.email].forEach(signInTime => {\n+      const div = document.createElement('div');\n+      div.className = 'history-entry';\n+      div.textContent = `Signed in at: ${new Date(signInTime).toLocaleString()}`;\n+      historyContainer.appendChild(div);\n+    });\n+  } else {\n+    historyContainer.innerHTML = '<p>No sign-in history found.</p>';\n+  }\n+}\n+\n+// --- Dashboard ---\n+function renderDashboard() {\n+  const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));\n+  if (loggedInUser) {\n+    document.getElementById('profileName').textContent = `${loggedInUser.firstName} ${loggedInUser.lastName}`;\n+    document.getElementById('profileEmail').textContent = loggedInUser.email;\n+    displaySignInHistory();\n+    renderPosts('myPosts', true); // Render only the logged-in user's posts\n+  } else {\n+    alert('Please sign in to access the dashboard.');\n+    window.location.href = 'signin.html';\n+  }\n+}\n+\n+// Call renderDashboard when the dashboard page loads\n+if (document.getElementById('dashboardPage')) {\n+  renderDashboard();\n+}\n+\n+// --- Home Page: Display All Posts ---\n+if (document.getElementById('homePage')) {\n+  renderPosts('homePosts', false); // Display all posts on the home page\n+}\n"
                },
                {
                    "date": 1746653140642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,14 +124,21 @@\n \n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n   const user = JSON.parse(localStorage.getItem('loggedInUser'));\n \n+  // Filter posts if onlyUserPosts is true, otherwise show all posts\n   const filteredPosts = onlyUserPosts && user\n     ? posts.filter(post => post.userEmail === user.email)\n     : posts;\n \n-  container.innerHTML = '';\n+  // If no posts available, show a message\n+  if (filteredPosts.length === 0) {\n+    container.innerHTML = '<p>No posts to display</p>';\n+    return;\n+  }\n \n+  container.innerHTML = ''; // Clear previous content before rendering new posts\n+\n   filteredPosts.forEach((post, index) => {\n     const div = document.createElement('div');\n     div.className = 'post';\n \n@@ -152,223 +159,13 @@\n     container.appendChild(div);\n   });\n }\n \n-// --- Like Post ---\n-function likePost(index) {\n-  const posts = JSON.parse(localStorage.getItem('posts')) || [];\n-  posts[index].likes++;\n-  localStorage.setItem('posts', JSON.stringify(posts));\n-  location.reload();\n-}\n-\n-// --- Display Username & Email on Profile ---\n-const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));\n-if (loggedInUser) {\n-  const usernameEl = document.getElementById('usernameDisplay');\n-  const emailEl = document.getElementById('emailDisplay');\n-  if (usernameEl) usernameEl.textContent = `${loggedInUser.firstName} ${loggedInUser.lastName}`;\n-  if (emailEl) emailEl.textContent = loggedInUser.email;\n-}\n-\n-// --- Display Sign-In History ---\n-function displaySignInHistory() {\n-  const user = JSON.parse(localStorage.getItem('loggedInUser'));\n-  if (!user) return;\n-\n-  const signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n-  const historyContainer = document.getElementById('signInHistory');\n-  \n-  if (signInHistory[user.email]) {\n-    signInHistory[user.email].forEach(signInTime => {\n-      const div = document.createElement('div');\n-      div.className = 'history-entry';\n-      div.textContent = `Signed in at: ${new Date(signInTime).toLocaleString()}`;\n-      historyContainer.appendChild(div);\n-    });\n-  } else {\n-    historyContainer.innerHTML = '<p>No sign-in history found.</p>';\n-  }\n-}\n-\n-// --- Dashboard ---\n-function renderDashboard() {\n-  const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));\n-  if (loggedInUser) {\n-    document.getElementById('profileName').textContent = `${loggedInUser.firstName} ${loggedInUser.lastName}`;\n-    document.getElementById('profileEmail').textContent = loggedInUser.email;\n-    displaySignInHistory();\n-    renderPosts('myPosts', true); // Render only the logged-in user's posts\n-  } else {\n-    alert('Please sign in to access the dashboard.');\n-    window.location.href = 'signin.html';\n-  }\n-}\n-\n-// Call renderDashboard when the dashboard page loads\n-if (document.getElementById('dashboardPage')) {\n-  renderDashboard();\n-}\n-\n // --- Home Page: Display All Posts ---\n-if (document.getElementById('homePage')) {\n-  renderPosts('homePosts', false); // Display all posts on the home page\n+if (document.getElementById('feed')) {\n+  renderPosts('feed', false); // Display all posts on the home page\n }\n-// --- Sign Up ---\n-const signupForm = document.getElementById('signupForm');\n-if (signupForm) {\n-  signupForm.addEventListener('submit', function (e) {\n-    e.preventDefault();\n \n-    const firstName = document.getElementById('firstName').value.trim();\n-    const lastName = document.getElementById('lastName').value.trim();\n-    const email = document.getElementById('email').value.trim();\n-    const phone = document.getElementById('phone').value.trim();\n-    const password = document.getElementById('password').value;\n-    const confirmPassword = document.getElementById('confirmPassword').value;\n-\n-    if (!firstName || !lastName || !email || !phone || !password || !confirmPassword) {\n-      alert('Please fill in all fields.');\n-      return;\n-    }\n-\n-    if (password !== confirmPassword) {\n-      alert('Passwords do not match.');\n-      return;\n-    }\n-\n-    const users = JSON.parse(localStorage.getItem('users')) || [];\n-\n-    if (users.find(user => user.email === email)) {\n-      alert('Email already exists. Please sign in.');\n-      return;\n-    }\n-\n-    const user = { firstName, lastName, email, phone, password };\n-\n-    users.push(user);\n-    localStorage.setItem('users', JSON.stringify(users));\n-\n-    alert('Account created successfully!');\n-    window.location.href = 'signin.html';\n-  });\n-}\n-\n-// --- Sign In ---\n-const signinForm = document.getElementById('signinForm');\n-if (signinForm) {\n-  signinForm.addEventListener('submit', function (e) {\n-    e.preventDefault();\n-\n-    const email = document.getElementById('emailSignIn').value.trim();\n-    const password = document.getElementById('passwordSignIn').value;\n-\n-    const users = JSON.parse(localStorage.getItem('users')) || [];\n-    const user = users.find(user => user.email === email && user.password === password);\n-\n-    if (!user) {\n-      alert('Incorrect email or password.');\n-      return;\n-    }\n-\n-    localStorage.setItem('loggedInUser', JSON.stringify(user));\n-\n-    const signInHistory = JSON.parse(localStorage.getItem('signInHistory')) || {};\n-    if (!signInHistory[user.email]) {\n-      signInHistory[user.email] = [];\n-    }\n-    signInHistory[user.email].push(new Date().toISOString());\n-    localStorage.setItem('signInHistory', JSON.stringify(signInHistory));\n-\n-    alert('Sign In successful!');\n-    window.location.href = 'index.html';\n-  });\n-}\n-\n-// --- Upload Post ---\n-const form = document.getElementById('uploadForm');\n-if (form) {\n-  form.addEventListener('submit', function (e) {\n-    e.preventDefault();\n-\n-    const title = document.getElementById('titleInput').value.trim();\n-    const description = document.getElementById('descriptionInput').value.trim();\n-    const fileInput = document.getElementById('mediaInput');\n-    const file = fileInput.files[0];\n-\n-    if (!file) {\n-      alert('Please select a file.');\n-      return;\n-    }\n-\n-    if (file.size > 2 * 1024 * 1024) {\n-      alert('File is too large. Max 2MB allowed.');\n-      return;\n-    }\n-\n-    const reader = new FileReader();\n-\n-    reader.onload = function () {\n-      const post = {\n-        title,\n-        media: reader.result,\n-        type: file.type,\n-        description,\n-        likes: 0,\n-        userEmail: JSON.parse(localStorage.getItem('loggedInUser')).email // Save user email for filtering posts later\n-      };\n-\n-      try {\n-        const posts = JSON.parse(localStorage.getItem('posts')) || [];\n-        posts.unshift(post); // Insert post at the beginning\n-        localStorage.setItem('posts', JSON.stringify(posts));\n-        alert('Post uploaded!');\n-        window.location.href = 'index.html';\n-      } catch (err) {\n-        alert('Upload failed: ' + err.message);\n-      }\n-    };\n-\n-    reader.readAsDataURL(file);\n-  });\n-}\n-\n-// --- Render Posts ---\n-function renderPosts(containerId, onlyUserPosts = false) {\n-  const container = document.getElementById(containerId);\n-  if (!container) return;\n-\n-  const posts = JSON.parse(localStorage.getItem('posts')) || [];\n-  const user = JSON.parse(localStorage.getItem('loggedInUser'));\n-\n-  const filteredPosts = onlyUserPosts && user\n-    ? posts.filter(post => post.userEmail === user.email)\n-    : posts;\n-\n-  container.innerHTML = '';\n-\n-  filteredPosts.forEach((post, index) => {\n-    const div = document.createElement('div');\n-    div.className = 'post';\n-\n-    const mediaTag = post.type.startsWith('video') ?\n-      `<video controls width=\"100%\"><source src=\"${post.media}\" type=\"${post.type}\"></video>` :\n-      `<img src=\"${post.media}\" alt=\"\">`;\n-\n-    div.innerHTML = `\n-      <h3>${post.title || 'Untitled'}</h3>\n-      ${mediaTag}\n-      <p>${post.description}</p>\n-      <div class=\"actions\">\n-        <span onclick=\"likePost(${index})\">‚ù§Ô∏è ${post.likes}</span>\n-        <span title=\"Share\">üîó</span>\n-        <span title=\"Save\">üíæ</span>\n-      </div>\n-    `;\n-    container.appendChild(div);\n-  });\n-}\n-\n // --- Like Post ---\n function likePost(index) {\n   const posts = JSON.parse(localStorage.getItem('posts')) || [];\n   posts[index].likes++;\n"
                }
            ],
            "date": 1746650766654,
            "name": "Commit-0",
            "content": "// Handle Sign Up\nconst signupForm = document.getElementById('signupForm');\nif (signupForm) {\n  signupForm.addEventListener('submit', function (e) {\n    e.preventDefault();\n\n    const firstName = document.getElementById('firstName').value.trim();\n    const lastName = document.getElementById('lastName').value.trim();\n    const email = document.getElementById('email').value.trim();\n    const phone = document.getElementById('phone').value.trim();\n    const password = document.getElementById('password').value;\n    const confirmPassword = document.getElementById('confirmPassword').value;\n\n    if (!firstName || !lastName || !email || !phone || !password || !confirmPassword) {\n      alert('Please fill in all fields.');\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      alert('Passwords do not match.');\n      return;\n    }\n\n    const user = { firstName, lastName, email, phone, password };\n    localStorage.setItem('user', JSON.stringify(user));\n\n    alert('Account created successfully!');\n    window.location.href = 'signin.html';\n  });\n}\n\n// Handle Sign In\nconst signinForm = document.getElementById('signinForm');\nif (signinForm) {\n  signinForm.addEventListener('submit', function (e) {\n    e.preventDefault();\n\n    const email = document.getElementById('emailSignIn').value.trim();\n    const password = document.getElementById('passwordSignIn').value;\n\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (!user) {\n      alert('No account found. Please sign up first.');\n      return;\n    }\n\n    if (user.email === email && user.password === password) {\n      alert('Sign In successful!');\n      window.location.href = 'index.html';\n    } else {\n      alert('Incorrect email or password. Please try again.');\n    }\n  });\n}\n\n// Handle Post Upload\nconst uploadForm = document.getElementById('uploadForm');\nif (uploadForm) {\n  uploadForm.addEventListener('submit', function (e) {\n    e.preventDefault();\n\n    const title = document.getElementById('titleInput').value.trim();\n    const description = document.getElementById('descriptionInput').value.trim();\n    const fileInput = document.getElementById('mediaInput');\n    const file = fileInput.files[0];\n\n    if (!file) {\n      alert('Please select a file.');\n      return;\n    }\n\n    if (file.size > 2 * 1024 * 1024) {\n      alert('File too large! Please upload a file under 2MB.');\n      return;\n    }\n\n    const reader = new FileReader();\n\n    reader.onload = function () {\n      const post = {\n        title,\n        description,\n        media: reader.result,\n        type: file.type,\n        likes: 0\n      };\n\n      const posts = JSON.parse(localStorage.getItem('posts')) || [];\n      posts.unshift(post);\n      try {\n        localStorage.setItem('posts', JSON.stringify(posts));\n        alert('Post uploaded!');\n        window.location.href = 'index.html';\n      } catch (e) {\n        alert('Failed to upload. Storage limit exceeded.');\n      }\n    };\n\n    reader.readAsDataURL(file);\n  });\n}\n\n// Render Posts\nfunction renderPosts(containerId) {\n  const container = document.getElementById(containerId);\n  if (!container) return;\n\n  const posts = JSON.parse(localStorage.getItem('posts')) || [];\n  posts.forEach((post, index) => {\n    const div = document.createElement('div');\n    div.className = 'post';\n\n    const mediaTag = post.type.startsWith('video') ?\n      `<video controls width=\"100%\"><source src=\"${post.media}\" type=\"${post.type}\"></video>` :\n      `<img src=\"${post.media}\" alt=\"Post image\">`;\n\n    div.innerHTML = `\n      <h3>${post.title || 'Untitled'}</h3>\n      ${mediaTag}\n      <p>${post.description}</p>\n      <div class=\"actions\">\n        <span onclick=\"likePost(${index})\">‚ù§Ô∏è ${post.likes}</span>\n        <span title=\"Share\">üîó</span>\n        <span title=\"Save\">üíæ</span>\n      </div>\n    `;\n    container.appendChild(div);\n  });\n}\n\n// Handle Likes\nfunction likePost(index) {\n  const posts = JSON.parse(localStorage.getItem('posts')) || [];\n  posts[index].likes++;\n  localStorage.setItem('posts', JSON.stringify(posts));\n  location.reload();\n}\n\nrenderPosts('feed');\n"
        }
    ]
}